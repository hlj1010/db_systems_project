\documentclass{article}
\usepackage[landscape, margin=0.1cm]{geometry}
\usepackage{graphicx}
\usepackage{pdflscape}    %% helps to see in upright direction in pdf
\usepackage{tikz-er2}
\title{ER-Diagram}
\begin{document}
\usetikzlibrary{positioning}
\usetikzlibrary{shadows}

\tikzstyle{every entity} = [top color=white, bottom color=blue!30, 
                          		  draw=blue!50!black!100, drop shadow]
\tikzstyle{every weak entity} = [drop shadow={shadow xshift=.7ex, 
                                shadow yshift=-.7ex}]
\tikzstyle{every attribute} = [top color=white, bottom color=yellow!20, 
                               draw=yellow, node distance=1cm, drop shadow]
\tikzstyle{every multi attribute} = [top color=white, bottom color=yellow!20, 
                               draw=black, node distance=2cm, drop shadow]
\tikzstyle{every relationship} = [top color=white, bottom color=red!20, 
                                  draw=red!50!black!100, drop shadow]
\tikzstyle{every sub} = [top color=white, bottom color=green!20, 
                         draw=green!50!black!100, drop shadow]


\resizebox{\textwidth}{0.9\textheight}{
\begin{tikzpicture}[node distance=1.5cm, every edge/.style={link}]

% Doctor entity
\node[entity] (doc) {Doctor};
  
	%id attribute - primary key
  	\node[attribute] (did) [above=0.5 cm of doc] {\key{doctorID}} edge (doc);
  	
  	% department attribute
  	\node[attribute] (ddept) [above right=0.5 cm of doc, xshift=2mm] {department} edge (doc);
  	
  	% specializations attribute
  	\node[multi attribute] (dspec) [draw =black,below=0.8 cm of doc] {specializations} edge (doc);
  	
  	% start date attribute
  	\node[attribute] (dstart) [above left=2.5 cm of doc, xshift = 15mm] {start\_date} edge (doc);
  	
  	% salary attribute
  	\node[attribute] (dsal) [left= 1 cm of doc, yshift=-9mm] {salary} edge (doc);
  	  	
  	% name attribute composite 
  	\node[attribute] (dname) [above left=1 cm of doc, yshift=-2mm] {name} edge (doc);
  	\node[attribute] (dfname) [above left=0.3 of dname] {first} edge (dname);
    \node[attribute] (dlname) [left=0.3 cm of dname,yshift=-0.4] {last} edge (dname);
  	
	% address attribute composite
	\node[attribute] (dadress) [below left=1.9cm  of doc] {address} edge (doc);
	\node[attribute] (dstr) [below=0.5cm of dadress] {street} edge (dadress);
	\node[attribute] (dcity) [below left= of dadress,yshift=0.2cm] {city} edge (dadress);
	\node[attribute] (dstate) [left=0.3cm of dadress,yshift=-0.2cm] {state} edge (dadress);
	\node[attribute] (dcountry) [above left=0.9 of dadress, yshift=-5mm] {country} edge (dadress);
	\node[attribute] (dzip) [below right =0.3 of dadress] {zip} edge (dadress);
	
	% phone attribute
	\node[attribute] (docphone) [left=0.7cm  of doc,yshift=4] {phone} edge (doc);
	\node[attribute] (docpphone) [left=0.7cm  of docphone,yshift=12] {work} edge (docphone);
	\node[attribute] (docwphone) [below left=1.5cm  of docphone,yshift=1cm] {cell} edge (docphone);	
	
% treats relationship
\node[relationship] (treat) [right=4cm of doc] {Treats} edge [total] (doc);
	
	% start data attribute
	%	\node[attribute] (tfrom) [below=0.5cm of treat,xshift=-1.7cm] {treat\_start} edge (treat);
	%consultation dates 
	\node[multi attribute] (tcons) [draw = black,below left =0.3cm of treat,xshift=-0.2cm] {consultation\_dates} edge (treat);

% patient entity
\node[entity] (pat) [below=2.5cm of treat] {Patient} edge [total] (treat);

	%i d attribute - primary key
  	\node[attribute] (patid) [above left=1.2 cm of pat, xshift=1.3cm] {\key{patientID}} edge (pat);
  	
  	% name attribute composite
  	\node[attribute] (patname) [left=0.5 cm of pat] {name} edge (pat);
  	\node[attribute] (pfname) [above  =0.05 cm of patname,xshift=0.6cm] {first} edge (patname);
    \node[attribute] (plname) [above =0.05 cm of patname,xshift=-1.3cm] {last} edge (patname);
    
    % address attribute composite
	\node[attribute] (pad) [below left=1cm  of pat,yshift=0.5cm] {address} edge (pat);
	\node[attribute] (pstr) [below=0.5cm of pad] {street} edge (pad);
	\node[attribute] (pcity) [below left= of pad,yshift=0.2cm] {city} edge (pad);
	\node[attribute] (pstate) [left=0.3cm of pad,yshift=-0.2cm] {state} edge (pad);
	\node[attribute] (pcountry) [above left=0.9 of pad, yshift=-5mm] {country} edge (pad);
	\node[attribute] (pzip) [below right =0.3 of pad] {zip} edge (pad);
	
	% phone attribute
	\node[attribute] (pphone) [below=0.2cm  of pat,yshift=4] {phone} edge (pat);
	\node[attribute] (ppphone) [below=0.3cm  of pphone,xshift=0.9cm] {work} edge (pphone);
	\node[attribute] (pwphone) [below right=1.5cm  of pphone,yshift=1cm] {cell} edge (pphone);
	
	% gender attribute	

\end{tikzpicture}
}
\pagebreak

\end{document}
